


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    <link rel="stylesheet" href="/css_files/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Responsive Dashboard Design #1 | AsmrProg</title>
    <style>
        :root {
            --primary-color: #191b19;
            --secondary-color: #2196f3;
            --danger-color: #f44336;
            --warning-color: #ff9800;
            --text-color: #3a2c2c;
            --bg-color: #f5f5f5;
            --card-bg: #fff;
            --border-color: #ddd;
        }

        .job-container {
            padding: 20px;
            max-width: 1200px;
            margin: auto;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dashboard-header h1 {
            font-size: 24px;
            margin: 0;
        }
        /* Styling the stat cards */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* Card general style */
        .card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease; /* Adding smooth transition */
        }

        /* Individual Background Colors */
        .card:nth-child(1) {
            border-color:#4caf50 ;
            background-color: #4caf50; /* Green */
            color: white;
        }
        .card:nth-child(2) {
            border-color:#2196f3 ;
            background-color: #2196f3; /* Blue */
            color: white;
        }
        .card:nth-child(3) {
            border-color:#ff9800;
            background-color: #ff9800; /* Orange */
            color: white;
        }
        .card:nth-child(4) {
            border-color:#f44336 ;
            background-color: #f44336; /* Red */
            color: white;
        }

        /* Hover Effect */
        .card:hover {
            transform: translateY(-10px); /* Slight lift effect */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Stronger shadow */
            cursor: pointer; /* Pointer cursor on hover */
        }

        /* Hover effect for each card */
        .card:nth-child(1):hover {
            background-color: #66bb6a; /* Lighter green */
        }
        .card:nth-child(2):hover {
            background-color: #42a5f5; /* Lighter blue */
        }
        .card:nth-child(3):hover {
            background-color: #ffb74d; /* Lighter orange */
        }
        .card:nth-child(4):hover {
            background-color: #e57373; /* Lighter red */
        }

        /* Card title */
        .card h2 {
            margin: 0;
            font-size: 36px;
            color: var(--primary-color);
            transition: color 0.3s ease;
        }

        /* Card description */
        .card p {
            margin: 10px 0 0;
            font-size: 14px;
            color: var(--text-color);
            transition: color 0.3s ease;
        }

        /* Hover effects for cards */
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .card:hover h2 {
            color: var(--secondary-color);
        }

        .card:hover p {
            color: var(--text-color);
        }

        /* Animation for card number */
        .card h2 {
            font-size: 36px;
            font-weight: bold;
            transition: transform 0.5s ease-out, color 0.3s ease;
        }

        .card h2.animate {
            transform: scale(1.2);
            color: var(--primary-color);
        }

        

        .grid-section {
            display: grid;
            grid-template-columns: 0.776fr 0.8fr;
            margin-top: 30px;
            font-size: 14px;
        }

        .list-section, .chart-section {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .list-section h3, .chart-section h3 {
            margin-top: 0;
        }

        .list-section ul {
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        .list-section ul li {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        .list-section h3{
            font-size: 26px;
        }
        .job-title {
            font-weight: bold;
            color: var(--primary-color);
        }

        .job-type {
            color: var(--secondary-color);
        }

        .chart {
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            color: var(--secondary-color);
            border: 2px dashed var(--border-color);
        }
        .chart-container {
            width: 100%;
            max-width: 520px;
            margin-left: 45px;
            background: #ffffff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            max-height: 330px;
            border-radius: 8px;
            }

        canvas {
            display: block;
            max-width: 100%;
            }

        h2 {
            text-align: center;
            color: #333;
            font-family: Arial, sans-serif;
            margin-bottom: 10px;
            }
            .recent-jobs {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            height: 592 px; /* Adjust the height as per your layout */
            display: flex;
            flex-direction: column;
            }

            .recent-jobs h3 {
            font-size: 18px;
            color: #333;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            }

            .recent-jobs-list {
            overflow-y: auto; /* Makes the box scrollable */
            height: 100%; /* Ensures it uses the available space */
            max-height: 500px; /* Set a max height for scrolling */
            padding-right: 5px; /* Add padding for a clean scroll */
            }

            .recent-jobs-list ul {
            list-style: none;
            padding: 0;
            margin: 0;
            }

            .recent-jobs-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            font-size: 12px;
            }

            .recent-jobs-list li:last-child {
            border-bottom: none;
            }

            .job-details {
            display: flex;
            gap: 8px;
            flex-direction: column;
            }

            .job-title {
            font-weight: bold;
            color: #444;
            font-size: 14px;
            }

            .job-time {
            color: #777;
            font-size: 12px;
            }

            .job-status {
            font-size: 10px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 10px;
            display: inline-block;
            }

            .job-status.fresher {
            background-color: #e0f7fa;
            color: #00796b;
            }

            .job-status.experience {
            background-color: #ffecb3;
            color: #ff9800;
            }

            .job-time-ago {
            font-size: 10px;
            color: #999;
            }

            .flash-message {
                position: absolute;
                top: 20px;
                left: 50%;
                transform: translate(-50%, -50%);
                padding: 12px;
                border-radius: 6px;
                color: white;
            }

            .flash-message.error {
                background-color: #ef4444; /* Red-500 */
            }

            .flash-message.success {
                background-color: #22c55e; /* Green-500 */
            }

            .flash-message span {
                display: inline-block;
                margin-top: 4px;
                margin-bottom: 4px;
            }

            .form-group {
            margin-bottom: 0.75rem;
            position: relative;
            }


            label {
                display: block;
                margin-bottom: 0.75rem;
                color: #030708;
                font-weight: 500;
                font-size: 0.95rem;
            }

            input {
                width: 100%;
                padding: 0.875rem 1rem;
                border: 2px solid #ffffff;
                border-radius: 12px;
                font-size: 1rem;
                transition: all 0.2s;
                background: rgba(255, 255, 255, 0.9);
            }

            input:focus {
                outline: none;
                border-color: #040709;
                box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.1);
                background: white;
            }
            
            textarea {
                width: 100%;
                padding: 0.875rem 1rem;
                border: 2px solid #ffffff;
                border-radius: 12px;
                font-size: 1rem;
                transition: all 0.2s;
                background: rgba(255, 255, 255, 0.9);
            }

            textarea:focus {
                outline: none;
                border-color: #000000;
                box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.1);
                background: white;
            }

            button {
                width: 100%;
                padding: 1rem;
                background: linear-gradient(to right, #040e12, #03080a);
                color: white;
                border: none;
                border-radius: 12px;
                font-size: 1rem;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s;
                position: relative;
                overflow: hidden;
            }

            button::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(to right, transparent, rgba(255,255,255,0.2), transparent);
                transform: translateX(-100%);
            }

            button:hover {
                transform: translateY(-1px);
                box-shadow: 0 4px 12px rgba(14, 165, 233, 0.2);
            }

            button:hover::after {
                transform: translateX(100%);
                transition: transform 0.6s;
            }

        </style>
</head>

<body>

    <% if(error.length > 0) { %>
        <div class="flash-message error">
            <span><%= error %></span>
        </div>
    <% } %>
    
    <% if(success.length > 0) { %>
        <div class="flash-message success">
            <span><%= success %></span>
        </div>
    <% } %>
    <div class="container">
        <!-- Sidebar Section -->
        <aside>
            <div class="toggle">
                <div class="logo">
                    <span class="danger">Nexon</span></h2>
                </div>
                <div class="close" id="close-btn">
                    <span class="material-icons-sharp">
                        close
                    </span>
                </div>
            </div>

            <div class="sidebar">
                <a href="/admin_dashboard">
                    <span class="material-icons-sharp">
                        dashboard
                    </span>
                    <h3>Dashboard</h3></button>
                </a>
                <a href="/owners/users">
                    <span class="material-icons-sharp">
                        person_outline
                    </span>
                    <h3>Employees</h3></button>
                </a>
                <a href="/owners/history">
                    <span class="material-icons-sharp">
                        receipt_long
                    </span>
                    <h3>History</h3>
                </a>
                <a href="/owners/analytics" class="active">
                    <span class="material-icons-sharp">
                        insights
                    </span>
                    <h3>Analytics</h3>
                </a>
                <a href="/owners/tickets">
                    <span class="material-icons-sharp">
                        assignment
                    </span>
                    <h3>Tickets</h3>
                </a>
                <a href="/owners/jobs">
                    <span class="material-icons-sharp">
                        category
                    </span>
                    <h3>Products</h3>
                </a>
                <a href="/owners/calendar">
                    <span class="fa fa-calendar-o" 
                    style="font-size: 18px;"></span>
                    <h3>Calendar</h3>
                </a>
                <a href="/owners/new_emp">
                    <span class="material-icons-sharp">
                        add
                    </span>
                    <h3>New Login</h3>
                </a>
                <a href="/owners/createProduct">
                    <span class="material-icons-sharp">
                        add
                    </span>
                    <h3>Create Product</h3>
                </a>
                <a href="/owners/Messages">
                    <span class="material-icons-sharp">
                        message
                    </span>
                    <h3>Messages</h3>
                </a>
                <a href="/logoutPage">
                    <span class="material-icons-sharp">
                        logout
                    </span>
                    <h3>Logout</h3>
                </a>
            </div>
        </aside>
        <!-- End of Sidebar Section -->

        <main>
            <div class="min-h-screen flex flex-col">
                <div class="container px-10 py-20 flex flex-grow">
                    <div class="w-[25%] flex h-screen flex-col items-start">
                    </div>
                    <main class="w-3/4 bg-white p-8 shadow ml-4">
                        <h2 class="text-xl font-bold mb-4">Create New Product</h2>
                        <form autocomplete="off" action="/owners/create" method="post" enctype="multipart/form-data">
                            
                            <div class="form-group">
                                <label>Product Image</label>
                                <input name="image" type="file" value="Select File">
                            </div>
                            
                            <div class="form-group">
                                <label>Name</label>
                                <input name="name" type="text" placeholder="Product Name">
                            </div>
                            
                            <div class="form-group">
                                <label>Description</label>
                                <textarea name="description">description of Product</textarea>
                            </div>
                             
                            <div class="form-group">
                                <label>Price</label>
                                <input name="price" type="text" placeholder="Product Price">
                            </div>
                            
                            <div class="form-group">
                                <label>Discount</label>
                                <input name="discount" type="text" placeholder="Discount Price">
                            </div>
                            
                            <div class="form-group">
                                <label>Stock</label>
                                <input name="stock" type="text" placeholder="Stock">
                            </div>
                            
                            <div class="form-group">
                                <label>background Color</label>
                                <input name="bgcolor" type="text" placeholder="Background Color">
                            </div>
                            <div class="form-group">
                                <label>panel Color</label>
                                <input name="panelcolor" type="text" placeholder="Panel Color">
                            </div>
                            <div class="form-group">
                                <label>Text Color</label>
                                <input name="textcolor" type="text" placeholder="Text Color">
                            </div>
    
                            <div class="login-options" id="employee-login">
                                <button type="submit">Create New Product</button>
                            </div>
                    </main>
                </div>
            </div>
        </main>


        <!-- Right Section -->
        <div class="right-section">
            <div class="nav">
                <button id="menu-btn">
                    <span class="material-icons-sharp">
                        menu
                    </span>
                </button>
                <div class="dark-mode">
                    <span class="material-icons-sharp active">
                        light_mode
                    </span>
                    <span class="material-icons-sharp">
                        dark_mode
                    </span>
                </div>

                <div class="profile">
                    <a href="/profile">
                        <div class="info">
                            <p>Hey, <b><%= owner.username %></b></p>
                            <small class="text-muted"><%= owner.role %></small>
                        </div></a>
                        <a href="/profile">
                            <div class="profile-photo">
                                <img src="data:image/jpeg;base64,<%= owner.picture.toString('base64') %>" alt="">
                            </div>
                        </a>
                        
                    
                </div>

            </div>
            <!-- End of Nav -->

            <div class="user-profile">
                <div class="logo">
                    <img src="data:image/jpeg;base64,<%= owner.companyPicture.toString('base64') %>" alt="">
                    <h2><%= owner.company %></h2>
                </div>
            </div>

            <div class="reminders">
                <div class="header">
                    <h2>Today's Events</h2>
                    
                </div>

                <% 
                const today = new Date();
                const formattedToday = today.toISOString().split('T')[0]; // Get today's date in YYYY-MM-DD format
            
                owner.events.forEach(function(event) { 
                    const eventDate = new Date(event.start).toISOString().split('T')[0]; // Extract event date
            
                    if (eventDate === formattedToday) { 
            %>
                    <div class="notification">
                        <div class="icon">
                            <span class="material-icons-sharp">
                                event
                            </span>
                        </div>
                        <div class="content">
                            <div class="info">
                                <h3><%= event.title %></h3>
                                <small class="text_muted">
                                    <%= event.formattedToday %>
                                </small>
                            </div>
                            <a href="/deleteEvent/<%= event._id %>">
                                <span class="material-icons-sharp">
                                delete
                            </span>
                            </a>
                        </div>
                    </div>
            <% 
                    }
                }); 
            %>
            
                


                <a href="/owners/calendar">
                <div class="notification add-reminder">
                
                    <div>
                        <span class="material-icons-sharp">
                            add
                        </span>
                        <h3>Add Event</h3>
                    </div>
                </div>
                </a>
                

            </div>


        </div>
    </div>
    <script>
    // Data for the chart
    const jobData = {
      labels: ['Full-Time', 'Part-Time', 'Freelancer', 'Internship'],
      datasets: [
        {
          label: 'Number of Jobs',
          data: [450, 300, 150, 50], // Example data
          backgroundColor: ['#4CAF50', '#FFC107', '#FF5722', '#2196F3'],
          hoverBackgroundColor: ['#66BB6A', '#FFD54F', '#FF7043', '#42A5F5'],
          borderRadius: 6,
        },
      ],
    };

    // Configuration options
    const config = {
      type: 'bar',
      data: jobData,
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: true,
            position: 'top',
            labels: {
              font: {
                size: 14,
              },
              color: '#555',
            },
          },
        },
        scales: {
          x: {
            ticks: {
              font: {
                size: 12,
              },
              color: '#555',
            },
            grid: {
              display: false,
            },
          },
          y: {
            ticks: {
              beginAtZero: true,
              stepSize: 50,
              font: {
                size: 12,
              },
              color: '#555',
            },
            grid: {
              color: '#eee',
            },
          },
        },
      },
    };

    // Render the chart
    const ctx = document.getElementById('jobsChart').getContext('2d');
    const jobsChart = new Chart(ctx, config);









    // Function to animate numbers in stats cards
document.addEventListener('DOMContentLoaded', () => {
    const cards = document.querySelectorAll('.card h2');

    // Animation effect for each card
    cards.forEach(card => {
        let currentValue = 0;
        const targetValue = parseInt(card.textContent);

        const animateValue = () => {
            if (currentValue < targetValue) {
                currentValue += Math.ceil(targetValue / 100);
                card.textContent = currentValue;
                setTimeout(animateValue, 20);
            } else {
                card.textContent = targetValue;
            }
        };
        
        animateValue();
        
        // Add class for scale animation after a slight delay
        setTimeout(() => {
            card.classList.add('animate');
        }, 100);
    });
});

    </script>
    <script src="/js_files/orders.js"></script>
    <script src="/js_files/index.js"></script>
</body>

</html>